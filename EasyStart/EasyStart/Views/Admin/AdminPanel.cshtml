
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    @*<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">*@
    <title>Панель администратора</title>
    @Styles.Render("~/admin-panel/css")
</head>
<body>
    <div class="header-menu">
        <div class="menu-item menu-item-active" target-id="order">
            <i class="fal fa-shopping-basket"></i>
            Заказы
        </div>
        <div class="menu-item" target-id="history">
            <i class="fal fa-history"></i>
            История заказов
        </div>
        <div class="menu-item" target-id="products" onclick="loadProducts();">
            <i class="fal fa-cart-arrow-down"></i>
            Товары
        </div>
        <div class="menu-item" target-id="stock">
            <i class="fal fa-badge-percent"></i>
            Акции
        </div>
        <div class="menu-item" target-id="branch" onclick="loadBranchList();">
            <i class="fal fa-code-branch"></i>
            Отделения
        </div>
        <div class="menu-item" target-id="setting">
            <i class="fal fa-map-marker-alt"></i>
            Контакты отделения
        </div>
        <div class="menu-item" target-id="delivery">
            <i class="fal fa-truck-loading"></i>
            О доставке
        </div>
        <div class="menu-item" target-id="analytics">
            <i class="fal fa-analytics"></i>
            Аналитика
        </div>
        <div class="menu-item logout" onclick="logout()">
            <i class="fal fa-sign-out"></i>
            Выйти
        </div>
    </div>

    <div class="content">
        <div class="section" id="order"></div>
        <div class="section hide" id="history"></div>
        <div class="section hide" id="products">
            <div class="category">
                <div class="header-product">
                    <div class="header-product-text">
                        Категории
                        <i class="fal fa-layer-plus"></i>
                    </div>
                    <div class="header-product-add" id="add-category">
                        <i class="fal fa-plus"></i>
                        Добавить категорию
                    </div>
                </div>
                <div class="category-list">
                    <div class="empty-list">
                        <i class="fal fa-smile-plus"></i>
                        <span>Пока нет ни одной категории</span>
                    </div>
                </div>
            </div>
            <div class="product">
                <div class="header-product">
                    <div class="header-product-text">
                        Продукты
                        <i class="fal fa-gifts"></i>
                    </div>
                    <div class="header-product-add" id="add-product">
                        <i class="fal fa-plus"></i>
                        Добавить продукт
                    </div>
                </div>
                <div class="product-list">
                    <div class="empty-list">
                        <i class="fal fa-smile-plus"></i>
                        <span>Выберите категорию и добавте продукт</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="section hide" id="stock">
            <div class="stock-header">
                Акции
                <i class="fal fa-badge-percent"></i>
            </div>
        </div>
        <div class="section hide" id="branch">
            <div class="branch-header">
                Отделения
                <i class="fal fa-chart-network"></i>
            </div>
            @if (ViewBag.TypeBranch == EasyStart.Logic.TypeBranch.MainBranch)
            {
                <div class="branch-header-add" id="add-branch">
                    <i class="fal fa-plus"></i>
                    Добавить отделение
                </div>
            }
            <div class="branch-list">
            </div>
        </div>

        @*<div class="section hide" id="setting" setting-id="@(ViewBag.Setting != null ? ViewBag.Setting.Id : 0)">
            <div class="setting-header">
                Контакты отделения
                <i class="fal fa-map-marker-alt"></i>
            </div>
            <input list="setting-city-list" id="setting-city" value="@(ViewBag.Setting != null ? ViewBag.Setting.City : "")" type="text" placeholder="Город">
            <datalist id="setting-city-list">
                @foreach (var cityPair in ViewBag.City)
                {
                    <option city-id="@cityPair.Key" value="@cityPair.Value" />
                }
            </datalist>
            <input type="text" id="setting-street" placeholder="Улица" value="@(ViewBag.Setting != null ? ViewBag.Setting.Street : "")" />
            <input type="text" id="setting-home" placeholder="Дом" value="@(ViewBag.Setting != null && ViewBag.Setting.HomeNumber!= 0 ? ViewBag.Setting.HomeNumber : "")" />
            <input type="text" id="setting-phone-number" placeholder="Номер телефона" value="@(ViewBag.Setting != null ? ViewBag.Setting.PhoneNumber : "")" />
            <input type="number" placeholder="Время открытия" id="time-open" min="0" max="24" step="0.1" value="@(ViewBag.Setting != null && ViewBag.Setting.TimeOpen!= 0 ? ViewBag.Setting.TimeOpen : "")" />
            <input type="number" placeholder="Время закрытия" id="time-close" min="0" max="24" step="0.1" value="@(ViewBag.Setting != null && ViewBag.Setting.TimeClose!= 0 ? ViewBag.Setting.TimeClose : "")" />
            <input type="number" placeholder="Стоймость доставки" id="price-delivery" min="0" step="0.1" value="@(ViewBag.Setting != null && ViewBag.Setting.PriceDelivery!=0 ? ViewBag.Setting.PriceDelivery : "")" />
            <label for="free-delivery">Бесплатная доставка при заказе на сумму от</label>
            <input type="number" id="free-delivery" min="0" step="0.1" value="@(ViewBag.Setting != null && ViewBag.Setting.FreePriceDelivery != 0 ? ViewBag.Setting.FreePriceDelivery : "")" />
            <button onclick="saveSetting();">Сохранить</button>
        </div>*@


        <div class="section hide" id="setting" setting-id="@(ViewBag.Setting != null ? ViewBag.Setting.Id : 0)">
            <div class="setting-block">
                <div class="setting-header">
                    Адрес
                    <i class="fal fa-map-marker-alt"></i>
                </div>
                <div class="setting-content">
                    <div class="group">
                        <input required autocomplete="off" list="setting-city-list" id="setting-city" value="@(ViewBag.Setting != null ? ViewBag.Setting.City : "")" type="text">
                        <datalist id="setting-city-list">
                            @foreach (var cityPair in ViewBag.City)
                            {
                                <option city-id="@cityPair.Key" value="@cityPair.Value" />
                            }
                        </datalist>
                        <span class="bar"></span>
                        <label>Город</label>
                    </div>
                    <div class="group">
                        <input required type="text" autocomplete="off" id="setting-street" value="@(ViewBag.Setting != null ? ViewBag.Setting.Street : "")" />
                        <span class="bar"></span>
                        <label>Улица</label>
                    </div>
                    <div class="group">
                        <input required type="text" autocomplete="off" id="setting-home" value="@(ViewBag.Setting != null && ViewBag.Setting.HomeNumber!= 0 ? ViewBag.Setting.HomeNumber : "")" />
                        <span class="bar"></span>
                        <label>Номер дома(офиса)</label>
                    </div>
                </div>
            </div>
            <div class="setting-block">
                <div class="setting-header">
                    Контакты
                    <i class="fal fa-address-card"></i>
                </div>
                <div class="setting-content">
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-phone-number" value="@(ViewBag.Setting != null ? ViewBag.Setting.PhoneNumber : "")" />
                        <span class="bar"></span>
                        <label>Телефон 1</label>
                    </div>
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-phone-number-additional" value="@(ViewBag.Setting != null ? ViewBag.Setting.PhoneNumberAdditional : "")" />
                        <span class="bar"></span>
                        <label>Телефон 2</label>
                    </div>
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-email" value="@(ViewBag.Setting != null ? ViewBag.Setting.Email : "")" />
                        <span class="bar"></span>
                        <label>Адрес эл.почты</label>
                    </div>
                </div>
            </div>
            <div class="setting-block">
                <div class="setting-header">
                    Соц. сети
                    <i class="fal fa-comments"></i>
                </div>
                <div class="setting-content">
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-vk" value="@(ViewBag.Setting != null ? ViewBag.Setting.Vkontakte : "")" />
                        <span class="bar"></span>
                        <label>Вконтакте</label>
                    </div>
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-instagram" value="@(ViewBag.Setting != null ? ViewBag.Setting.Instagram : "")" />
                        <span class="bar"></span>
                        <label>Инстаграм</label>
                    </div>
                    <div class="group">
                        <input autocomplete="off" type="text" required id="setting-facebook" value="@(ViewBag.Setting != null ? ViewBag.Setting.Facebook : "")" />
                        <span class="bar"></span>
                        <label>Фейсбук</label>
                    </div>
                </div>
            </div>
            <div class="setting-menu">
                <button class="btn btn-submit" onclick="saveSetting();">Сохранить</button>
            </div>
        </div>
        <div class="section hide" id="delivery">
            <div class="delivery-block">
                <div class="delivery-header">
                    Настройка стоимости доставки
                </div>
                <div class="delivery-content">
                    <div class="group">
                        <input required type="text" id="price-delivery" value="@(ViewBag.DeliverySetting != null && ViewBag.DeliverySetting.PriceDelivery != 0 ? ViewBag.DeliverySetting.PriceDelivery : "")" />
                        <div class="bar"></div>
                        <label>Стоимость доставки</label>
                    </div>
                    <div class="group">
                        <input required type="text" id="free-delivery" value="@(ViewBag.DeliverySetting != null && ViewBag.DeliverySetting.FreePriceDelivery != 0 ? ViewBag.DeliverySetting.FreePriceDelivery : "")" />
                        <div class="bar"></div>
                        <label>Бесплатная доставка при заказе на сумму от</label>
                    </div>
                </div>
            </div>
            <div class="delivery-block">
                <div class="delivery-header">
                    Оплата заказа
                </div>
                <div class="delivery-content">
                    <div class="payment-type">
                        <input type="checkbox" id="payment-card" @(ViewBag.DeliverySetting != null && ViewBag.DeliverySetting.PayCard ?  "checked" : "") />
                        <label for="payment-card" class="label-for">Банковской картой</label>
                    </div>
                    <div class="payment-type">
                        <input type="checkbox" id="payment-cash" checked disabled/>
                        <label for="payment-cash" class="label-for">Наличными</label>
                    </div>
                </div>
            </div>
            <div class="delivery-block">
                <div class="delivery-header">
                    Режим работы доставки
                </div>
                <div class="delivery-content">
                    <div class="table-time">
                        @foreach (var day in ViewBag.DeliveryTimeTable)
                        {
                            <div class="time-day" day-id="@day.Item2">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="day-@day.Item2" @(@day.Item5 ? "checked" : "")/>
                                    <label for="day-@day.Item2" class="label-for">@day.Item1</label>
                                </div>
                                <div class="period-work">
                                    <input type="number" name="start" min="0" max="24" step="0.1" placeholder="0.00" value="@day.Item3"/>
                                    <input type="number" name="end" min="0" max="24" step="0.1" placeholder="0.00"  value="@day.Item4"/>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="delivery-menu">
                <button class="btn btn-submit" onclick="saveDeliverySetting();">Сохранить</button>
            </div>
        </div>
        <div class="section hide" id="analytics">
            <div class="analytics-header">
                Аналитика
                <i class="fal fa-analytics"></i>
            </div>
        </div>
    </div>

    <dialog id="addCategoryDialog">
        <form onsubmit="operationCategory(); return false;" autocomplete="off">
            <div class="enter-dialog-data">
                <div class="header-dialog">
                    <i class="fal fa-layer-plus"></i>
                    Добавление категории
                </div>
                <div class="content-dialog-data">
                    <input type="hidden" id="category-id">
                    <div class="group">
                        <input required type="text" id="name-category" />
                        <span class="bar"></span>
                        <label>Название категории</label>
                    </div>
                </div>
                <div class="dialog-menu">
                    <button class="btn btn-submit" type="submit">Ок</button>
                    <button class="btn btn-cancel" type="reset" onclick="cancelDialog($('#addCategoryDialog'))">Отмена</button>
                </div>
            </div>

            <div class="add-image-product">
                <input type="file" id="add-category-image" accept="image/*" class="hide">
                <div class="preview-image" onclick="openDialogFile('add-category-image')">
                    <img src=""/images/default-image.jpg"" alt="your image" class="hide" />
                    <div class="dialog-image-upload">
                        <i class="fal fa-upload"></i>
                        Загрузите изображение категории
                    </div>
                </div>
            </div>

        </form>
    </dialog>

    <dialog id="addProducDialog">
        <form onsubmit="operationProduct(); return false;" autocomplete="off">

            <div class="enter-dialog-data">
                <div class="header-dialog">
                    <i class="fal fa-layer-plus"></i>
                    Добавление продукта
                </div>
                <div class="content-dialog-data">
                    <input type="hidden" id="product-id">
                    <div class="group">
                        <input required type="text" id="name-product" />
                        <span class="bar"></span>
                        <label>Название продукта</label>
                    </div>
                    <div class="group">
                        <input required type="text" maxlength="20" id="product-additional-info" />
                        <span class="bar"></span>
                        <label>Информация о количестве, массе или объеме</label>
                    </div>
                    <div class="group">
                        <input type="number" required id="product-price" min="0" step="0.1" />
                        <span class="bar"></span>
                        <label>Цена (в рублях)</label>
                    </div>

                    <div class="group">
                        <textarea id="description-product"></textarea>
                        <span class="bar"></span>
                        <label>Описание продукта</label>
                    </div>
                </div>
                <div class="dialog-menu">
                    <button class="btn btn-submit" type="submit">Ок</button>
                    <button class="btn btn-cancel" type="reset" onclick="cancelDialog($('#addProducDialog'))">Отмена</button>
                </div>
            </div>

            <div class="add-image-product">
                <input type="file" id="add-product-image" accept="image/*" class="hide">
                <div class="preview-image" onclick="openDialogFile('add-product-image')">
                    <img src="#" alt="your image" class="hide" />
                    <div class="dialog-image-upload">
                        <i class="fal fa-upload"></i>
                        Загрузите изображение продукта
                    </div>
                </div>
            </div>
        </form>
    </dialog>

    <dialog id="addBranchDialog">
        <form onsubmit="addBranch(); return false;" autocomplete="off">

            <div class="enter-dialog-data">
                <div class="header-dialog">
                    <i class="fal fa-chart-network"></i>
                    Добавление отделения
                </div>
                <div class="content-dialog-data">
                    <div class="group">
                        <input required type="text" disabled id="login-new-branch" />
                        <span class="bar"></span>
                        <label>Логин</label>
                    </div>
                    <div class="group">
                        <input required type="text" disabled id="password-new-branch" />
                        <span class="bar"></span>
                        <label>Пароль</label>
                    </div>
                    <div class="group">
                        <input list="branch-city-list" id="branch-city" type="text">
                        <span class="bar"></span>
                        <label>Город отделения</label>
                        <datalist id="branch-city-list">
                            @foreach (var cityPair in ViewBag.City)
                            {
                                <option city-id="@cityPair.Key" value="@cityPair.Value" />
                            }
                        </datalist>
                    </div>
                </div>
                <div class="dialog-menu">
                    <button class="btn btn-submit" type="submit">Ок</button>
                    <button class="btn btn-cancel" type="reset" onclick="cancelDialog($('#addBranchDialog'))">Отмена</button>
                </div>
            </div>
        </form>
    </dialog>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/main")
    @Scripts.Render("~/bundles/admin-panel")
</body>
</html>
